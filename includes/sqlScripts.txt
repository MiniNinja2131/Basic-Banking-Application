CREATE TABLE IF NOT EXISTS bank(
	bankID int(11) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    branchName VARCHAR(32) NOT NULL,
    premiseNo CHAR(4) NOT NULL,
    postcode CHAR(8) NOT NULL,
    country VARCHAR(45) NOT NULL,
    interestRate float NOT NULL
);

INSERT INTO bank (branchName, premiseNo, postcode, country, interestRate) VALUES ("Halifax", "45", "DZ5 7RP", "United Kingdom", 0.185);

CREATE TABLE IF NOT EXISTS customer(
	customerID int(11) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    fName VARCHAR(32) NOT NULL,
    lName VARCHAR(32) NOT NULL,
    dob DATE NOT NULL,
    houseNo CHAR(4) NOT NULL,
    postcode CHAR(8) NOT NULL,
    country VARCHAR(45) NOT NULL,
    telephone VARCHAR(11) NOT NULL
);

CREATE TABLE IF NOT EXISTS account(
	accountID int(11) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    customerID int(11),
    bankID int(11),
    FOREIGN KEY (customerID) REFERENCES customer(customerID),
    FOREIGN KEY (bankID) REFERENCES bank(bankID),
    email VARCHAR(255) NOT NULL,
    username VARCHAR(32) NOT NULL,
    pwd LONGTEXT NOT NULL,
    balance DECIMAL(15,2) NOT NULL
);

CREATE TABLE IF NOT EXISTS transaction(
    transactionHistoryID int(11) PRIMARY KEY AUTO_INCREMENT NOT NULL,
    bankID int(11),
    customerID int(11),
    FOREIGN KEY (bankID) REFERENCES bank(bankID),
    FOREIGN KEY (customerID) REFERENCES customer(customerID),
    transactionType VARCHAR(255) NOT NULL,
    date DATETIME NOT NULL
);
